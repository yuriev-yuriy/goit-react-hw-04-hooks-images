{"version":3,"sources":["components/ImageGalleryItem.module.css","components/Modal.module.css","App.module.css","components/ImageGallery.module.css","components/Button.module.css","components/Searchbar.module.css","components/Searchbar.js","components/ImageGallery.js","components/Modal.js","components/ImageGalleryItem.js","components/Button.js","services/Api.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","input","setInput","className","s","SearchForm","event","preventDefault","trim","type","SearchFormbutton","SearchFormbuttonlabel","SearchForminput","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGallery","children","Modal","url","closeModal","useEffect","window","addEventListener","code","removeEventListener","console","log","Overlay","onClick","target","src","alt","ImageGalleryItem","hits","showModal","setShowModal","largeImg","setLargeImg","openModal","dataset","img","map","id","webformatURL","tags","largeImageURL","data-img","ImageGalleryItem_image","Button","getPage","key","baseUrl","fetchPic","query","a","page","axios","get","data","error","App","setQuery","setPage","images","setImages","status","setStatus","resetList","getData","state","scrollTo","top","document","documentElement","scrollHeight","behavior","getInput","message","length","Loader","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.21482ebb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1ETIE\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1Ic35\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3F9EP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__JinTf\",\"Modal\":\"Modal_Modal__2fpWI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__FXL0y\",\"Loader\":\"App_Loader__ASyDT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2fi9-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2VGep\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__x7bYk\",\"SearchForm\":\"Searchbar_SearchForm__1TXQM\",\"SearchFormbutton\":\"Searchbar_SearchFormbutton__2I0kI\",\"SearchFormbuttonlabel\":\"Searchbar_SearchFormbuttonlabel__3dgGu\",\"SearchForminput\":\"Searchbar_SearchForminput__150PH\"};","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nconst Searchbar = ({onSubmit}) => {\n  const [input, setInput] = useState('');\n\n  const changeInput = event => {\n    setInput( event.currentTarget.value.toLowerCase() );\n  };\n\n  const makeSubmit = event => {\n    event.preventDefault();\n    if (input.trim() === '') {\n      return;\n    }\n    onSubmit(input);\n    setInput( '' );\n  };\n\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={makeSubmit}>\n          <button type={s.SearchFormbutton} className=\"SearchForm-button\">\n            <span className={s.SearchFormbuttonlabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForminput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={input}\n            onChange={changeInput}\n          />\n        </form>\n      </header>\n    );\n  }\n\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ children }) => {\n  return <ul className={s.ImageGallery}>{children}</ul>;\n};\n\nexport default ImageGallery;\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst Modal = ({ url, closeModal }) => {\n\n  useEffect(() => {\n    window.addEventListener('keydown', event => {\n      if (event.code === 'Escape') {\n        closeModal();\n      }\n    });\n    return () => {\n      window.removeEventListener('keydown', event => {\n        if (event.code === 'Escape') {\n          closeModal();\n        };\n      }, [])\n\n    }\n  })\n  // const handleKeyDown = event => {\n  //   if (event.code === 'Escape') {\n  //     closeModal();\n  //   }\n  // };\n\n  const clickOver = event => {\n    if (event.target === event.currentTarget) {\n      closeModal();\n    }\n  }\n  console.log(url);\n    return (\n      <div className={s.Overlay} onClick={clickOver}>\n        <div className={s.Modal}>\n          <img src={url} alt=\"\" />\n        </div>\n      </div>\n    );\n}\n\nModal.propTypes = {\n  url: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\nimport Modal from './Modal';\n\nconst ImageGalleryItem = ({hits}) => {\n  const [showModal, setShowModal] = useState(false);\n  const [largeImg, setLargeImg] = useState('');\n  const openModal = event => {\n   setShowModal( true );\n    const largeImg = event.target.dataset.img;\n    setLargeImg(largeImg)\n    };\n\n  const closeModal = () => {\n    setShowModal(false );\n  };\n  \n    return (\n      <>\n        {hits.map(({ id, webformatURL, tags, largeImageURL }) => (\n          \n          <li key={id} className={s.ImageGalleryItem}>\n            <img\n              src={webformatURL}\n              alt={tags}\n              data-img={largeImageURL}\n              className={s.ImageGalleryItem_image}\n              onClick={openModal}\n            />\n          </li>\n        )\n        )}\n        {showModal && (\n          <Modal url={largeImg} closeModal={closeModal} />\n        )}\n        \n      </>\n    );\n}\n\nImageGalleryItem.propTypes = {\n  hits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n};\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\n// import { Component } from 'react';\nimport s from './Button.module.css';\n\nconst Button = ({getPage}) => {\n  const loadMore = () => {\n    getPage();\n  };\n\n\n    return (\n      <button className={s.Button} type=\"button\" onClick={loadMore}>\n        Load More\n      </button>\n    );\n  }\n\n\nButton.propTypes = {\n  getPage: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import axios from 'axios';\n\nconst key = '18694203-d22239baec913b213273a87a8';\nconst baseUrl = 'https://pixabay.com/api/';\n\n// axios.defaults.baseUrl = baseUrl;\n// axios.defaults.params = {\n//   key: key,\n//   image_type: 'photo',\n//   orientation: 'horizontal',\n//   per_page: 12,\n// }\n\nconst fetchPic = async (query, page = 1) => {\n  try {\n    const { data } = await axios.get(\n      `${baseUrl}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n    );\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport default fetchPic;\n","import { useState, useEffect } from 'react';\nimport s from './App.module.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Button from './components/Button';\nimport Loader from 'react-loader-spinner';\nimport fetchPic from './services/Api';\n\nconst App = () => {\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [error] = useState(null);\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n  if (query === '') {\n    return\n  }\n       setStatus('pending');\n    resetList();\n    async function getData() {\n    const data = await fetchPic(query);\n    console.log(data);\n    setImages([ ...data.hits]);\n    }\n     getData(query)\n    setStatus('resolved');  \n  }, [ query]);\n\n  useEffect(() => {\n    if (page === 1) {\n    return\n  }\n    setStatus('pending');\n    async function getData() {\n      const data = await fetchPic(query, page);\n      setImages(state => [...state, ...data.hits]);\n      setStatus('resolved');\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n     getData()\n  }, [query, page]);\n  \n   const resetList = () => {\n    setImages({ images: [] });\n   }\n  \n  const getPage = () => {\n    setPage (state => state + 1 );\n  };\n\n  const resetPage = () => {\n    setPage ( 1 );\n  }\n\n  const getInput = input => {\n    setQuery( input );\n    resetPage();\n  };\n\n\n    if (status === 'idle') {\n      return <Searchbar onSubmit={getInput} />;\n    }\n\n    if (status === 'rejected') {\n      return <h1>{error.message}</h1>;\n    } else {\n      return (\n        <>\n          <Searchbar onSubmit={getInput} />\n          {images.length ? <ImageGallery>\n            <ImageGalleryItem hits={images} />\n          </ImageGallery>: null}\n          {status === 'pending' ? (\n            <Loader\n              className={s.Loader}\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs\n            />\n          ) : null}\n          <div>{images.length ? <Button getPage={getPage} /> : null}</div>\n        </>\n      );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}